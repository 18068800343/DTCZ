<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ldxx.dao.ReportInfoDao" >

	<select id="getAllReportByCompanyName" resultType="com.ldxx.bean.Report">
        SELECT * FROM report_info
        <where>
			<if test="companyName !='华通' ">
				report_name like CONCAT("%",#{companyName},"%")
			</if>
			<if test="startTime !='' and startTime !=null ">
				and report_time > #{startTime}
			</if>
			<if test="endTime !='' and endTime !=null ">
				and  #{endTime} > report_time
			</if>
		</where>
    </select>

	<update id="deleteById">
		delete from report_info where r_id = #{id}
	</update>

</mapper>